(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-098b4ed4"],{"0366":function(t,e,a){var n=a("e330"),o=a("59ed"),r=a("40d5"),c=n(n.bind);t.exports=function(t,e){return o(t),void 0===e?t:r?c(t,e):function(){return t.apply(e,arguments)}}},"182d":function(t,e,a){var n=a("f8cd"),o=RangeError;t.exports=function(t,e){var a=n(t);if(a%e)throw o("Wrong offset");return a}},"1d02":function(t,e,a){"use strict";var n=a("ebb5"),o=a("a258").findLastIndex,r=n.aTypedArray,c=n.exportTypedArrayMethod;c("findLastIndex",(function(t){return o(r(this),t,arguments.length>1?arguments[1]:void 0)}))},"3c5d":function(t,e,a){"use strict";var n=a("da84"),o=a("c65b"),r=a("ebb5"),c=a("07fa"),i=a("182d"),l=a("7b0b"),s=a("d039"),b=n.RangeError,d=n.Int8Array,f=d&&d.prototype,u=f&&f.set,p=r.aTypedArray,j=r.exportTypedArrayMethod,O=!s((function(){var t=new Uint8ClampedArray(2);return o(u,t,{length:1,0:3},1),3!==t[1]})),y=O&&r.NATIVE_ARRAY_BUFFER_VIEWS&&s((function(){var t=new d(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));j("set",(function(t){p(this);var e=i(arguments.length>1?arguments[1]:void 0,1),a=l(t);if(O)return o(u,this,a,e);var n=this.length,r=c(a),s=0;if(r+e>n)throw b("Wrong length");while(s<r)this[e+s]=a[s++]}),!O||y)},"5e4f":function(t,e,a){},"77d9":function(t,e,a){a("1d02")},"907a":function(t,e,a){"use strict";var n=a("ebb5"),o=a("07fa"),r=a("5926"),c=n.aTypedArray,i=n.exportTypedArrayMethod;i("at",(function(t){var e=c(this),a=o(e),n=r(t),i=n>=0?n:a+n;return i<0||i>=a?void 0:e[i]}))},"986a":function(t,e,a){"use strict";var n=a("ebb5"),o=a("a258").findLast,r=n.aTypedArray,c=n.exportTypedArrayMethod;c("findLast",(function(t){return o(r(this),t,arguments.length>1?arguments[1]:void 0)}))},a258:function(t,e,a){var n=a("0366"),o=a("44ad"),r=a("7b0b"),c=a("07fa"),i=function(t){var e=1==t;return function(a,i,l){var s,b,d=r(a),f=o(d),u=n(i,l),p=c(f);while(p-- >0)if(s=f[p],b=u(s,p,d),b)switch(t){case 0:return s;case 1:return p}return e?-1:void 0}};t.exports={findLast:i(0),findLastIndex:i(1)}},a741:function(t,e,a){"use strict";a("f26d")},a981:function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},bb51:function(t,e,a){"use strict";a.r(e);var n=a("7a23");const o=t=>(Object(n["I"])("data-v-9a3efb46"),t=t(),Object(n["G"])(),t),r=o(()=>Object(n["j"])("div",{class:"area"},[Object(n["j"])("ul",{class:"circles"},[Object(n["j"])("li"),Object(n["j"])("li"),Object(n["j"])("li"),Object(n["j"])("li"),Object(n["j"])("li"),Object(n["j"])("li"),Object(n["j"])("li"),Object(n["j"])("li"),Object(n["j"])("li"),Object(n["j"])("li")])],-1)),c={key:0,class:"w-100 d-flex justify-content-center align-items-center flex-column",style:{height:"100vh","background-color":"azure"}},i=o(()=>Object(n["j"])("h3",null,"Eagle 猜歌小遊戲",-1)),l={class:"d-flex"},s=o(()=>Object(n["j"])("p",{class:"m-4"},"或",-1)),b={key:1,class:"w-100",style:{height:"100vh","background-color":"azure"}},d={class:"container pt-3"},f={class:"d-flex flex-wrap gap-3 container pt-4 pb-4"},u={class:"d-flex align-items-center justify-content-center"},p=["src"],j=o(()=>Object(n["j"])("i",{class:"fa-solid fa-arrow-up-right-from-square"},null,-1)),O=o(()=>Object(n["j"])("i",{class:"fa-solid fa-user-group"},null,-1)),y=Object(n["l"])("進入房間"),h={key:2,class:"container pt-3"},m=Object(n["l"])("建立房間"),g={class:"pb-2 d-flex gap-3 justify-content-between align-items-center"},v=Object(n["l"])("返回"),w=Object(n["l"])("手動選取歌單"),_=Object(n["l"])("快速導入歌單"),A={class:"pb-2"},x=o(()=>Object(n["j"])("option",{value:"None",selected:""},"快速導入",-1)),k=o(()=>Object(n["j"])("option",{value:"pl.dc16cb58902342cba9711cbcd9bf2840"},"JPOP Now",-1)),T=o(()=>Object(n["j"])("option",{value:"pl.370b1f4caa54400cbbb36e0585f10565"},"Top 25 Taipei",-1)),I=o(()=>Object(n["j"])("option",{value:"pl.2f5fcebf9ad247098e445d27011aecc4"},"今日熱門-日本流行樂",-1)),R=o(()=>Object(n["j"])("option",{value:"pl.5ee8333dbe944d9f9151e97d92d1ead9"},"a-list-歐美流行樂",-1)),C=o(()=>Object(n["j"])("option",{value:"pl.beb783da7712481fbeed35be144bd48c"},"a-list-國語流行樂",-1)),S=o(()=>Object(n["j"])("option",{value:"pl.48229b41bbfc47d7af39dae8e8b5276e"},"a-list-韓國流行樂",-1)),F=o(()=>Object(n["j"])("option",{value:"pl.6d8228f57b864a4296dc02d9761a0d9b"},"熱播金曲-國語流行樂",-1)),E=o(()=>Object(n["j"])("option",{value:"pl.3c940066ea8d47adb2d317c492a981fe"},"卡拉永遠ok-國語",-1)),U=[x,k,T,I,R,C,S,F,E],V=["disabled"],D={class:"pb-2"},M=o(()=>Object(n["j"])("p",null,"Apple Music 網址暫放處",-1)),P=o(()=>Object(n["j"])("input",{type:"text",placeholder:"給你方便訪網址的，可不必填寫。",class:"w-100 form-control"},null,-1)),N=o(()=>Object(n["j"])("p",null,"Apple Music 播放列表ID (pl.xxxxxxxxxxxxxxxxxx)",-1)),B=["disabled"],L={key:0,class:"p-3 d-flex align-items-center flex-wrap justify-content-center"},Y=["src"],J=["disabled"];function W(t,e,a,o,x,k){const T=Object(n["O"])("router-link"),I=Object(n["O"])("va-card-title"),R=Object(n["O"])("va-button"),C=Object(n["O"])("va-button-group"),S=Object(n["O"])("va-card-content"),F=Object(n["O"])("va-card");return Object(n["F"])(),Object(n["i"])(n["a"],null,[r,"home"==x.page?(Object(n["F"])(),Object(n["i"])("div",c,[i,Object(n["j"])("div",l,[Object(n["j"])("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=t=>x.page="create")},"建立房間"),s,Object(n["j"])("button",{class:"btn btn-dark",onClick:e[1]||(e[1]=t=>{x.page="room_list",k.get_rooms()})},"尋找房間")])])):Object(n["h"])("",!0),"room_list"==x.page?(Object(n["F"])(),Object(n["i"])("div",b,[Object(n["j"])("div",d,[Object(n["j"])("button",{class:"btn btn-dark w-100 mb-2",onClick:e[2]||(e[2]=t=>x.page="home")},"返回"),Object(n["j"])("button",{class:"btn btn-dark w-100",onClick:e[3]||(e[3]=t=>k.get_rooms())},"刷新")]),Object(n["j"])("div",f,[(Object(n["F"])(!0),Object(n["i"])(n["a"],null,Object(n["M"])(x.rooms,t=>(Object(n["F"])(),Object(n["i"])("div",{class:"card p-3",key:t.room_id},[Object(n["j"])("div",u,[Object(n["j"])("img",{src:t.data.artwork,width:"180",height:"180",class:"me-3"},null,8,p),Object(n["j"])("div",null,[Object(n["j"])("h4",null,[j,Object(n["l"])(" #"+Object(n["S"])(t.room_id),1)]),Object(n["j"])("p",null,Object(n["S"])(t.data.name),1),Object(n["j"])("p",null,[O,Object(n["l"])(" "+Object(n["S"])(t.user_count),1)]),Object(n["m"])(T,{class:"btn btn-dark w-100 mt-3",to:{name:"Room",params:{room_id:t.room_id}}},{default:Object(n["fb"])(()=>[y]),_:2},1032,["to"])])])]))),128))])])):Object(n["h"])("",!0),"create"==x.page?(Object(n["F"])(),Object(n["i"])("div",h,[Object(n["m"])(F,null,{default:Object(n["fb"])(()=>[Object(n["m"])(I,null,{default:Object(n["fb"])(()=>[m]),_:1}),Object(n["m"])(S,null,{default:Object(n["fb"])(()=>[Object(n["j"])("div",null,[Object(n["j"])("div",g,[Object(n["m"])(R,{outline:"",class:"mr-4 mb-2",onClick:e[4]||(e[4]=t=>x.page="home")},{default:Object(n["fb"])(()=>[v]),_:1}),Object(n["m"])(C,null,{default:Object(n["fb"])(()=>[Object(n["m"])(R,{onClick:e[5]||(e[5]=t=>x.mode="manual")},{default:Object(n["fb"])(()=>[w]),_:1}),Object(n["m"])(R,{onClick:e[6]||(e[6]=t=>x.mode="fast")},{default:Object(n["fb"])(()=>[_]),_:1})]),_:1})]),"fast"==x.mode?(Object(n["F"])(),Object(n["i"])(n["a"],{key:0},[Object(n["j"])("div",A,[Object(n["gb"])(Object(n["j"])("select",{class:"form-select","aria-label":"Default select example",onChange:e[7]||(e[7]=t=>k.fastSelect(this.key)),"onUpdate:modelValue":e[8]||(e[8]=t=>x.key=t)},U,544),[[n["Z"],x.key]])]),Object(n["j"])("button",{class:"btn btn-dark w-100 mt-3",onClick:e[9]||(e[9]=(...t)=>k.get_playlist_info&&k.get_playlist_info(...t)),disabled:x.loading},"讀取",8,V)],64)):"manual"==x.mode?(Object(n["F"])(),Object(n["i"])(n["a"],{key:1},[Object(n["j"])("div",D,[M,P,N,Object(n["gb"])(Object(n["j"])("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=t=>x.id=t),class:"w-100 form-control"},null,512),[[n["ab"],x.id]])]),Object(n["j"])("button",{class:"btn btn-dark w-100 mt-3",onClick:e[11]||(e[11]=(...t)=>k.get_playlist_info&&k.get_playlist_info(...t)),disabled:x.loading},"讀取",8,B)],64)):Object(n["h"])("",!0)]),""!=x.playlist_info.name?(Object(n["F"])(),Object(n["i"])("div",L,[Object(n["j"])("img",{src:x.playlist_info.artworkImg,width:"300",height:"300",class:"me-3"},null,8,Y),Object(n["j"])("div",null,[Object(n["j"])("h3",null,Object(n["S"])(x.playlist_info.name),1),Object(n["j"])("p",null,Object(n["S"])(x.playlist_info.description),1),Object(n["j"])("p",null,"數量:"+Object(n["S"])(x.playlist_info.count),1),Object(n["j"])("button",{class:"btn btn-dark w-100 mt-3",onClick:e[12]||(e[12]=(...t)=>k.CreateRoom&&k.CreateRoom(...t)),disabled:x.loading},"建立房間",8,J)])])):Object(n["h"])("",!0)]),_:1})]),_:1})])):Object(n["h"])("",!0)],64)}a("907a"),a("3c5d"),a("fa9e"),a("77d9");var z={name:"Home",data(){return{mode:"fast",key:"None",page:"home",loading:!1,rooms:[],id:"",playlist_info:{artworkImg:"",name:"",description:"",count:0,data:null},rawData:null}},mounted(){},methods:{fastSelect(t){"None"!=t&&(this.id=t)},get_rooms(){fetch("//"+window.location.hostname+"/api/room/getRooms",{headers:{"content-type":"application/json"},cache:"no-cache"}).then(t=>t.json()).then(t=>{this.rooms=t.rooms})},get_playlist_info(){this.loading=!0,fetch("//"+window.location.hostname+"/api/playlist/"+this.id,{headers:{"content-type":"application/json"},cache:"no-cache"}).then(t=>t.json()).then(t=>{this.playlist_info.artworkImg=t.data.artwork,this.playlist_info.name=t.data.rawName,this.playlist_info.description=t.data.description.short,this.loading=!1,this.playlist_info.data=t.data,this.playlist_info.count=t.data.songs.data.length,this.rawData=t.data}).catch(t=>{console.log(t),this.loading=!1})},CreateRoom(){this.loading=!0,fetch("//"+window.location.hostname+"/api/room/create",{body:JSON.stringify(this.rawData),headers:{"content-type":"application/json",Authorization:"Bearer "+this.getToken()},cache:"no-cache",method:"POST"}).then(t=>t.json()).then(t=>{this.$router.push({name:"Room",params:{room_id:t.room_id}})}).catch(t=>{console.log(t),this.loading=!1})},getToken(){function t(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16))}var e=localStorage.getItem("token");return null==e&&localStorage.setItem("token",t()),e=localStorage.getItem("token"),e}},computed:{}},G=(a("f3d6"),a("a741"),a("6b0d")),q=a.n(G);const H=q()(z,[["render",W],["__scopeId","data-v-9a3efb46"]]);e["default"]=H},e163:function(t,e,a){var n=a("1a2d"),o=a("1626"),r=a("7b0b"),c=a("f772"),i=a("e177"),l=c("IE_PROTO"),s=Object,b=s.prototype;t.exports=i?s.getPrototypeOf:function(t){var e=r(t);if(n(e,l))return e[l];var a=e.constructor;return o(a)&&e instanceof a?a.prototype:e instanceof s?b:null}},e177:function(t,e,a){var n=a("d039");t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},ebb5:function(t,e,a){"use strict";var n,o,r,c=a("a981"),i=a("83ab"),l=a("da84"),s=a("1626"),b=a("861d"),d=a("1a2d"),f=a("f5df"),u=a("0d51"),p=a("9112"),j=a("cb2d"),O=a("9bf2").f,y=a("3a9b"),h=a("e163"),m=a("d2bb"),g=a("b622"),v=a("90e3"),w=a("69f3"),_=w.enforce,A=w.get,x=l.Int8Array,k=x&&x.prototype,T=l.Uint8ClampedArray,I=T&&T.prototype,R=x&&h(x),C=k&&h(k),S=Object.prototype,F=l.TypeError,E=g("toStringTag"),U=v("TYPED_ARRAY_TAG"),V="TypedArrayConstructor",D=c&&!!m&&"Opera"!==f(l.opera),M=!1,P={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},N={BigInt64Array:8,BigUint64Array:8},B=function(t){if(!b(t))return!1;var e=f(t);return"DataView"===e||d(P,e)||d(N,e)},L=function(t){var e=h(t);if(b(e)){var a=A(e);return a&&d(a,V)?a[V]:L(e)}},Y=function(t){if(!b(t))return!1;var e=f(t);return d(P,e)||d(N,e)},J=function(t){if(Y(t))return t;throw F("Target is not a typed array")},W=function(t){if(s(t)&&(!m||y(R,t)))return t;throw F(u(t)+" is not a typed array constructor")},z=function(t,e,a,n){if(i){if(a)for(var o in P){var r=l[o];if(r&&d(r.prototype,t))try{delete r.prototype[t]}catch(c){try{r.prototype[t]=e}catch(s){}}}C[t]&&!a||j(C,t,a?e:D&&k[t]||e,n)}},G=function(t,e,a){var n,o;if(i){if(m){if(a)for(n in P)if(o=l[n],o&&d(o,t))try{delete o[t]}catch(r){}if(R[t]&&!a)return;try{return j(R,t,a?e:D&&R[t]||e)}catch(r){}}for(n in P)o=l[n],!o||o[t]&&!a||j(o,t,e)}};for(n in P)o=l[n],r=o&&o.prototype,r?_(r)[V]=o:D=!1;for(n in N)o=l[n],r=o&&o.prototype,r&&(_(r)[V]=o);if((!D||!s(R)||R===Function.prototype)&&(R=function(){throw F("Incorrect invocation")},D))for(n in P)l[n]&&m(l[n],R);if((!D||!C||C===S)&&(C=R.prototype,D))for(n in P)l[n]&&m(l[n].prototype,C);if(D&&h(I)!==C&&m(I,C),i&&!d(C,E))for(n in M=!0,O(C,E,{get:function(){return b(this)?this[U]:void 0}}),P)l[n]&&p(l[n],U,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:D,TYPED_ARRAY_TAG:M&&U,aTypedArray:J,aTypedArrayConstructor:W,exportTypedArrayMethod:z,exportTypedArrayStaticMethod:G,getTypedArrayConstructor:L,isView:B,isTypedArray:Y,TypedArray:R,TypedArrayPrototype:C}},f26d:function(t,e,a){},f3d6:function(t,e,a){"use strict";a("5e4f")},f8cd:function(t,e,a){var n=a("5926"),o=RangeError;t.exports=function(t){var e=n(t);if(e<0)throw o("The argument can't be less than 0");return e}},fa9e:function(t,e,a){a("986a")}}]);
//# sourceMappingURL=chunk-098b4ed4.ce236ab7.js.map