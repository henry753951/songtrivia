(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7b746d45"],{"0e57":function(t,e,r){"use strict";var n=r("2b51"),o=r("affb"),a=r("9141"),c=n.aTypedArray,i=n.exportTypedArrayMethod;i("at",(function(t){var e=c(this),r=o(e),n=a(t),i=n>=0?n:r+n;return i<0||i>=r?void 0:e[i]}))},"1ae1":function(t,e,r){r("1b41")},"1b41":function(t,e,r){"use strict";var n=r("e5d8"),o=r("2b51"),a=o.aTypedArray,c=o.exportTypedArrayMethod,i=o.getTypedArrayConstructor;c("toReversed",(function(){return n(a(this),i(this))}))},"1b61":function(t,e,r){"use strict";var n=r("2b51"),o=r("e40b"),a=r("3986"),c=r("f39e"),i=n.aTypedArray,l=n.getTypedArrayConstructor,s=n.exportTypedArrayMethod,b=o(n.TypedArrayPrototype.sort);s("toSorted",(function(t){void 0!==t&&a(t);var e=i(this),r=c(l(e),e);return b(r,t)}))},"1f12":function(t,e,r){var n=r("e549"),o=TypeError;t.exports=function(t){var e=n(t,"number");if("number"==typeof e)throw o("Can't convert number to bigint");return BigInt(e)}},"2b51":function(t,e,r){"use strict";var n,o,a,c=r("4b05"),i=r("4744"),l=r("b784"),s=r("75ba"),b=r("8dc1"),u=r("1463"),f=r("7f68"),d=r("fc4a"),p=r("54d3"),y=r("2b28"),m=r("5580"),h=r("7ac6"),j=r("90c5"),O=r("20a6"),g=r("d270"),v=r("af70"),w=r("78d6"),A=w.enforce,x=w.get,_=l.Int8Array,k=_&&_.prototype,T=l.Uint8ClampedArray,I=T&&T.prototype,C=_&&j(_),R=k&&j(k),E=Object.prototype,S=l.TypeError,J=g("toStringTag"),M=v("TYPED_ARRAY_TAG"),U="TypedArrayConstructor",P=c&&!!O&&"Opera"!==f(l.opera),D=!1,V={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},B={BigInt64Array:8,BigUint64Array:8},F=function(t){if(!b(t))return!1;var e=f(t);return"DataView"===e||u(V,e)||u(B,e)},N=function(t){var e=j(t);if(b(e)){var r=x(e);return r&&u(r,U)?r[U]:N(e)}},X=function(t){if(!b(t))return!1;var e=f(t);return u(V,e)||u(B,e)},L=function(t){if(X(t))return t;throw S("Target is not a typed array")},Y=function(t){if(s(t)&&(!O||h(C,t)))return t;throw S(d(t)+" is not a typed array constructor")},W=function(t,e,r,n){if(i){if(r)for(var o in V){var a=l[o];if(a&&u(a.prototype,t))try{delete a.prototype[t]}catch(c){try{a.prototype[t]=e}catch(s){}}}R[t]&&!r||y(R,t,r?e:P&&k[t]||e,n)}},z=function(t,e,r){var n,o;if(i){if(O){if(r)for(n in V)if(o=l[n],o&&u(o,t))try{delete o[t]}catch(a){}if(C[t]&&!r)return;try{return y(C,t,r?e:P&&C[t]||e)}catch(a){}}for(n in V)o=l[n],!o||o[t]&&!r||y(o,t,e)}};for(n in V)o=l[n],a=o&&o.prototype,a?A(a)[U]=o:P=!1;for(n in B)o=l[n],a=o&&o.prototype,a&&(A(a)[U]=o);if((!P||!s(C)||C===Function.prototype)&&(C=function(){throw S("Incorrect invocation")},P))for(n in V)l[n]&&O(l[n],C);if((!P||!R||R===E)&&(R=C.prototype,P))for(n in V)l[n]&&O(l[n].prototype,R);if(P&&j(I)!==R&&O(I,R),i&&!u(R,J))for(n in D=!0,m(R,J,{configurable:!0,get:function(){return b(this)?this[M]:void 0}}),V)l[n]&&p(l[n],M,n);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:P,TYPED_ARRAY_TAG:D&&M,aTypedArray:L,aTypedArrayConstructor:Y,exportTypedArrayMethod:W,exportTypedArrayStaticMethod:z,getTypedArrayConstructor:N,isView:F,isTypedArray:X,TypedArray:C,TypedArrayPrototype:R}},"31fb":function(t,e,r){var n=r("035a"),o=r("e40b");t.exports=function(t){if("Function"===n(t))return o(t)}},3229:function(t,e,r){"use strict";var n=r("2b51"),o=r("d9fb").findLastIndex,a=n.aTypedArray,c=n.exportTypedArrayMethod;c("findLastIndex",(function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0)}))},"386c":function(t,e,r){"use strict";var n=r("4744"),o=r("e966"),a=TypeError,c=Object.getOwnPropertyDescriptor,i=n&&!function(){if(void 0!==this)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(t){return t instanceof TypeError}}();t.exports=i?function(t,e){if(o(t)&&!c(t,"length").writable)throw a("Cannot set read only .length");return t.length=e}:function(t,e){return t.length=e}},"38c2":function(t,e,r){var n=r("7f68");t.exports=function(t){var e=n(t);return"BigInt64Array"==e||"BigUint64Array"==e}},4779:function(t,e,r){"use strict";r("e37e")},"4b05":function(t,e){t.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},5580:function(t,e,r){var n=r("8117"),o=r("1be9");t.exports=function(t,e,r){return r.get&&n(r.get,e,{getter:!0}),r.set&&n(r.set,e,{setter:!0}),o.f(t,e,r)}},"62a9":function(t,e,r){var n=r("9141"),o=RangeError;t.exports=function(t){var e=n(t);if(e<0)throw o("The argument can't be less than 0");return e}},7824:function(t,e,r){"use strict";r("9402")},"821d":function(t,e,r){var n=r("affb"),o=r("9141"),a=RangeError;t.exports=function(t,e,r,c){var i=n(t),l=o(r),s=l<0?i+l:l;if(s>=i||s<0)throw a("Incorrect index");for(var b=new e(i),u=0;u<i;u++)b[u]=u===s?c:t[u];return b}},"90c5":function(t,e,r){var n=r("1463"),o=r("75ba"),a=r("0ef8"),c=r("0f3e"),i=r("d8c0"),l=c("IE_PROTO"),s=Object,b=s.prototype;t.exports=i?s.getPrototypeOf:function(t){var e=a(t);if(n(e,l))return e[l];var r=e.constructor;return o(r)&&e instanceof r?r.prototype:e instanceof s?b:null}},9131:function(t,e,r){r("b216")},9402:function(t,e,r){},"9bbe":function(t,e,r){"use strict";var n=r("2b51"),o=r("d9fb").findLast,a=n.aTypedArray,c=n.exportTypedArrayMethod;c("findLast",(function(t){return o(a(this),t,arguments.length>1?arguments[1]:void 0)}))},ade7:function(t,e){var r=TypeError,n=9007199254740991;t.exports=function(t){if(t>n)throw r("Maximum allowed index exceeded");return t}},b182:function(t,e,r){"use strict";var n=r("b784"),o=r("7130"),a=r("2b51"),c=r("affb"),i=r("dc4c"),l=r("0ef8"),s=r("0472"),b=n.RangeError,u=n.Int8Array,f=u&&u.prototype,d=f&&f.set,p=a.aTypedArray,y=a.exportTypedArrayMethod,m=!s((function(){var t=new Uint8ClampedArray(2);return o(d,t,{length:1,0:3},1),3!==t[1]})),h=m&&a.NATIVE_ARRAY_BUFFER_VIEWS&&s((function(){var t=new u(2);return t.set(1),t.set("2",1),0!==t[0]||2!==t[1]}));y("set",(function(t){p(this);var e=i(arguments.length>1?arguments[1]:void 0,1),r=l(t);if(m)return o(d,this,r,e);var n=this.length,a=c(r),s=0;if(a+e>n)throw b("Wrong length");while(s<a)this[e+s]=r[s++]}),!m||h)},b216:function(t,e,r){"use strict";var n=r("821d"),o=r("2b51"),a=r("38c2"),c=r("9141"),i=r("1f12"),l=o.aTypedArray,s=o.getTypedArrayConstructor,b=o.exportTypedArrayMethod,u=!!function(){try{new Int8Array(1)["with"](2,{valueOf:function(){throw 8}})}catch(t){return 8===t}}();b("with",{with:function(t,e){var r=l(this),o=c(t),b=a(r)?i(e):+e;return n(r,s(r),o,b)}}["with"],!u)},b790:function(t,e,r){r("1b61")},baac:function(t,e,r){var n=r("31fb"),o=r("3986"),a=r("1f23"),c=n(n.bind);t.exports=function(t,e){return o(t),void 0===e?t:a?c(t,e):function(){return t.apply(e,arguments)}}},bb51:function(t,e,r){"use strict";r.r(e);var n=r("24fc");const o=t=>(Object(n["M"])("data-v-6fbb3cea"),t=t(),Object(n["K"])(),t),a=o(()=>Object(n["m"])("div",{class:"area"},[Object(n["m"])("ul",{class:"circles"},[Object(n["m"])("li"),Object(n["m"])("li"),Object(n["m"])("li"),Object(n["m"])("li"),Object(n["m"])("li"),Object(n["m"])("li"),Object(n["m"])("li"),Object(n["m"])("li"),Object(n["m"])("li"),Object(n["m"])("li")])],-1)),c={key:0,class:"w-100 d-flex justify-content-center align-items-center flex-column",style:{height:"100vh","background-color":"azure"}},i=o(()=>Object(n["m"])("h3",null,"Eagle 猜歌小遊戲",-1)),l={class:"d-flex"},s=o(()=>Object(n["m"])("p",{class:"m-4"},"或",-1)),b={key:1,class:"w-100",style:{height:"100vh","background-color":"azure"}},u={class:"container pt-3"},f={class:"d-flex flex-wrap gap-3 container pt-4 pb-4"},d={class:"d-flex align-items-center justify-content-center"},p=["src"],y=o(()=>Object(n["m"])("i",{class:"fa-solid fa-arrow-up-right-from-square"},null,-1)),m=o(()=>Object(n["m"])("i",{class:"fa-solid fa-user-group"},null,-1)),h={key:2,class:"container pt-3"},j={class:"pb-2 d-flex gap-3 justify-content-between align-items-center"},O={class:"pb-2"},g=o(()=>Object(n["m"])("option",{value:"None",selected:""},"快速導入",-1)),v=["value"],w=o(()=>Object(n["m"])("option",{value:"pl.370b1f4caa54400cbbb36e0585f10565"}," Top 25 Taipei ",-1)),A=o(()=>Object(n["m"])("option",{value:"pl.2f5fcebf9ad247098e445d27011aecc4"}," 今日熱門-日本流行樂 ",-1)),x=o(()=>Object(n["m"])("option",{value:"pl.5ee8333dbe944d9f9151e97d92d1ead9"}," a-list-歐美流行樂 ",-1)),_=o(()=>Object(n["m"])("option",{value:"pl.beb783da7712481fbeed35be144bd48c"}," a-list-國語流行樂 ",-1)),k=o(()=>Object(n["m"])("option",{value:"pl.48229b41bbfc47d7af39dae8e8b5276e"}," a-list-韓國流行樂 ",-1)),T=o(()=>Object(n["m"])("option",{value:"pl.6d8228f57b864a4296dc02d9761a0d9b"}," 熱播金曲-國語流行樂 ",-1)),I=o(()=>Object(n["m"])("option",{value:"pl.3c940066ea8d47adb2d317c492a981fe"}," 卡拉永遠ok-國語 ",-1)),C=["disabled"],R={class:"pb-2"},E=o(()=>Object(n["m"])("p",null,"Apple Music 網址暫放處",-1)),S=o(()=>Object(n["m"])("input",{type:"text",placeholder:"給你方便訪網址的，可不必填寫。",class:"w-100 form-control"},null,-1)),J=o(()=>Object(n["m"])("p",null,"Apple Music 播放列表ID (pl.xxxxxxxxxxxxxxxxxx)",-1)),M=["disabled"],U={key:0,class:"p-3 d-flex align-items-center flex-wrap justify-content-center"},P=["src"],D=["disabled"];function V(t,e,r,o,V,B){const F=Object(n["S"])("router-link"),N=Object(n["S"])("va-card-title"),X=Object(n["S"])("va-button"),L=Object(n["S"])("va-button-group"),Y=Object(n["S"])("va-card-content"),W=Object(n["S"])("va-card");return Object(n["J"])(),Object(n["l"])(n["b"],null,[a,"home"==V.page?(Object(n["J"])(),Object(n["l"])("div",c,[i,Object(n["m"])("div",l,[Object(n["m"])("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=t=>V.page="create")}," 建立房間 "),s,Object(n["m"])("button",{class:"btn btn-dark",onClick:e[1]||(e[1]=t=>{V.page="room_list",B.get_rooms()})}," 尋找房間 ")])])):Object(n["k"])("",!0),"room_list"==V.page?(Object(n["J"])(),Object(n["l"])("div",b,[Object(n["m"])("div",u,[Object(n["m"])("button",{class:"btn btn-dark w-100 mb-2",onClick:e[2]||(e[2]=t=>V.page="home")}," 返回 "),Object(n["m"])("button",{class:"btn btn-dark w-100",onClick:e[3]||(e[3]=t=>B.get_rooms())},"刷新")]),Object(n["m"])("div",f,[(Object(n["J"])(!0),Object(n["l"])(n["b"],null,Object(n["Q"])(V.rooms,t=>(Object(n["J"])(),Object(n["l"])("div",{class:"card p-3",key:t.room_id},[Object(n["m"])("div",d,[Object(n["m"])("img",{src:t.data.artwork,width:"180",height:"180",class:"me-3"},null,8,p),Object(n["m"])("div",null,[Object(n["m"])("h4",null,[y,Object(n["o"])(" #"+Object(n["X"])(t.room_id),1)]),Object(n["m"])("p",null,Object(n["X"])(t.data.name),1),Object(n["m"])("p",null,[m,Object(n["o"])(" "+Object(n["X"])(t.user_count),1)]),Object(n["p"])(F,{class:"btn btn-dark w-100 mt-3",to:{name:"Room",params:{room_id:t.room_id}}},{default:Object(n["jb"])(()=>[Object(n["o"])("進入房間")]),_:2},1032,["to"])])])]))),128))])])):Object(n["k"])("",!0),"create"==V.page?(Object(n["J"])(),Object(n["l"])("div",h,[Object(n["p"])(W,null,{default:Object(n["jb"])(()=>[Object(n["p"])(N,null,{default:Object(n["jb"])(()=>[Object(n["o"])("建立房間")]),_:1}),Object(n["p"])(Y,null,{default:Object(n["jb"])(()=>[Object(n["m"])("div",null,[Object(n["m"])("div",j,[Object(n["p"])(X,{outline:"",class:"mr-4 mb-2",onClick:e[4]||(e[4]=t=>V.page="home")},{default:Object(n["jb"])(()=>[Object(n["o"])("返回")]),_:1}),Object(n["p"])(L,null,{default:Object(n["jb"])(()=>[Object(n["p"])(X,{onClick:e[5]||(e[5]=t=>V.mode="manual")},{default:Object(n["jb"])(()=>[Object(n["o"])("手動選取歌單")]),_:1}),Object(n["p"])(X,{onClick:e[6]||(e[6]=t=>V.mode="fast")},{default:Object(n["jb"])(()=>[Object(n["o"])("快速導入歌單")]),_:1})]),_:1})]),"fast"==V.mode?(Object(n["J"])(),Object(n["l"])(n["b"],{key:0},[Object(n["m"])("div",O,[Object(n["kb"])(Object(n["m"])("select",{class:"form-select","aria-label":"Default select example",onChange:e[7]||(e[7]=t=>B.fastSelect(this.key)),"onUpdate:modelValue":e[8]||(e[8]=t=>V.key=t)},[g,(Object(n["J"])(!0),Object(n["l"])(n["b"],null,Object(n["Q"])(V.playlists,t=>(Object(n["J"])(),Object(n["l"])("option",{value:t.value},Object(n["X"])(t.name),9,v))),256)),w,A,x,_,k,T,I],544),[[n["db"],V.key]])]),Object(n["m"])("button",{class:"btn btn-dark w-100 mt-3",onClick:e[9]||(e[9]=(...t)=>B.get_playlist_info&&B.get_playlist_info(...t)),disabled:V.loading}," 讀取 ",8,C)],64)):"manual"==V.mode?(Object(n["J"])(),Object(n["l"])(n["b"],{key:1},[Object(n["m"])("div",R,[E,S,J,Object(n["kb"])(Object(n["m"])("input",{type:"text","onUpdate:modelValue":e[10]||(e[10]=t=>V.id=t),class:"w-100 form-control"},null,512),[[n["eb"],V.id]])]),Object(n["m"])("button",{class:"btn btn-dark w-100 mt-3",onClick:e[11]||(e[11]=(...t)=>B.get_playlist_info&&B.get_playlist_info(...t)),disabled:V.loading}," 讀取 ",8,M)],64)):Object(n["k"])("",!0)]),""!=V.playlist_info.name?(Object(n["J"])(),Object(n["l"])("div",U,[Object(n["m"])("img",{src:V.playlist_info.artworkImg,width:"300",height:"300",class:"me-3"},null,8,P),Object(n["m"])("div",null,[Object(n["m"])("h3",null,Object(n["X"])(V.playlist_info.name),1),Object(n["m"])("p",null,Object(n["X"])(V.playlist_info.description),1),Object(n["m"])("p",null,"數量:"+Object(n["X"])(V.playlist_info.count),1),Object(n["m"])("button",{class:"btn btn-dark w-100 mt-3",onClick:e[12]||(e[12]=(...t)=>B.CreateRoom&&B.CreateRoom(...t)),disabled:V.loading}," 建立房間 ",8,D)])])):Object(n["k"])("",!0)]),_:1})]),_:1})])):Object(n["k"])("",!0)],64)}r("e104"),r("0e57"),r("9bbe"),r("3229"),r("b182"),r("1ae1"),r("b790"),r("9131");var B={name:"Home",data(){return{mode:"fast",key:"None",page:"home",loading:!1,rooms:[],id:"",playlists:[],playlist_info:{artworkImg:"",name:"",description:"",count:0,data:null},rawData:null}},mounted(){},methods:{fastSelect(t){"None"!=t&&(this.id=t)},get_rooms(){fetch("//"+window.location.hostname+"/api/room/getRooms",{headers:{"content-type":"application/json"},cache:"no-cache"}).then(t=>t.json()).then(t=>{this.rooms=t.rooms})},get_playlist(){fetch("//"+window.location.hostname+"/api/playlists",{headers:{"content-type":"application/json"},cache:"no-cache"}).then(t=>t.json()).then(t=>{this.playlists=t.playlists})},get_playlist_info(){this.loading=!0,fetch("//"+window.location.hostname+"/api/playlist/"+this.id,{headers:{"content-type":"application/json"},cache:"no-cache"}).then(t=>t.json()).then(t=>{this.playlist_info.artworkImg=t.data.artwork,this.playlist_info.name=t.data.rawName,this.playlist_info.description=t.data.description.short,this.loading=!1,this.playlist_info.data=t.data,this.playlist_info.count=t.data.songs.data.length,this.rawData=t.data}).catch(t=>{console.log(t),this.loading=!1})},CreateRoom(){this.loading=!0,fetch("//"+window.location.hostname+"/api/room/create",{body:JSON.stringify(this.rawData),headers:{"content-type":"application/json",Authorization:"Bearer "+this.getToken()},cache:"no-cache",method:"POST"}).then(t=>t.json()).then(t=>{this.$router.push({name:"Room",params:{room_id:t.room_id}})}).catch(t=>{console.log(t),this.loading=!1})},getToken(){function t(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,t=>(t^crypto.getRandomValues(new Uint8Array(1))[0]&15>>t/4).toString(16))}var e=localStorage.getItem("token");return null==e&&localStorage.setItem("token",t()),e=localStorage.getItem("token"),e}},computed:{}},F=(r("7824"),r("4779"),r("c1e3")),N=r.n(F);const X=N()(B,[["render",V],["__scopeId","data-v-6fbb3cea"]]);e["default"]=X},d8c0:function(t,e,r){var n=r("0472");t.exports=!n((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},d9fb:function(t,e,r){var n=r("baac"),o=r("8e2f"),a=r("0ef8"),c=r("affb"),i=function(t){var e=1==t;return function(r,i,l){var s,b,u=a(r),f=o(u),d=n(i,l),p=c(f);while(p-- >0)if(s=f[p],b=d(s,p,u),b)switch(t){case 0:return s;case 1:return p}return e?-1:void 0}};t.exports={findLast:i(0),findLastIndex:i(1)}},dc4c:function(t,e,r){var n=r("62a9"),o=RangeError;t.exports=function(t,e){var r=n(t);if(r%e)throw o("Wrong offset");return r}},e104:function(t,e,r){"use strict";var n=r("38d1"),o=r("0ef8"),a=r("affb"),c=r("386c"),i=r("ade7"),l=r("0472"),s=l((function(){return 4294967297!==[].push.call({length:4294967296},1)})),b=function(){try{Object.defineProperty([],"length",{writable:!1}).push()}catch(t){return t instanceof TypeError}},u=s||!b();n({target:"Array",proto:!0,arity:1,forced:u},{push:function(t){var e=o(this),r=a(e),n=arguments.length;i(r+n);for(var l=0;l<n;l++)e[r]=arguments[l],r++;return c(e,r),r}})},e37e:function(t,e,r){},e5d8:function(t,e,r){var n=r("affb");t.exports=function(t,e){for(var r=n(t),o=new e(r),a=0;a<r;a++)o[a]=t[r-a-1];return o}},e966:function(t,e,r){var n=r("035a");t.exports=Array.isArray||function(t){return"Array"==n(t)}},f39e:function(t,e,r){var n=r("affb");t.exports=function(t,e){var r=0,o=n(e),a=new t(o);while(o>r)a[r]=e[r++];return a}}}]);
//# sourceMappingURL=chunk-7b746d45.acbe203b.js.map